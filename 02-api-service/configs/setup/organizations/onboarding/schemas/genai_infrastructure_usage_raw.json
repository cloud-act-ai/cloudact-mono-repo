[
  {
    "name": "usage_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "Date of usage (partition field)."
  },
  {
    "name": "org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization identifier for multi-tenancy."
  },
  {
    "name": "provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Infrastructure provider: gcp_gpu, aws_gpu, azure_gpu, etc."
  },
  {
    "name": "resource_type",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Resource type: gpu, tpu, inferentia, trainium."
  },
  {
    "name": "instance_type",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Instance type used. Example: a2-highgpu-1g."
  },
  {
    "name": "instance_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Cloud-assigned instance ID."
  },
  {
    "name": "gpu_type",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "GPU/accelerator type."
  },
  {
    "name": "region",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Cloud region."
  },
  {
    "name": "instance_count",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Number of instances running."
  },
  {
    "name": "hours_used",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Total instance-hours consumed."
  },
  {
    "name": "gpu_hours",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Total GPU-hours (instance_hours * gpu_count)."
  },
  {
    "name": "pricing_type",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Pricing type: on_demand, spot, reserved_1yr, reserved_3yr."
  },
  {
    "name": "avg_gpu_utilization_pct",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Average GPU utilization percentage."
  },
  {
    "name": "avg_memory_utilization_pct",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Average GPU memory utilization."
  },
  {
    "name": "x_hierarchy_entity_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity ID from org_hierarchy. Example: 'TEAM-001'."
  },
  {
    "name": "x_hierarchy_entity_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity display name. Example: 'Platform Team'."
  },
  {
    "name": "x_hierarchy_level_code",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Hierarchy level code (DEPT, PROJ, TEAM)"
  },
  {
    "name": "x_hierarchy_path",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Materialized path from root to leaf. Example: '/DEPT-001/PROJ-001/TEAM-001'."
  },
  {
    "name": "x_hierarchy_path_names",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Human-readable path. Example: 'Engineering > Platform > Backend Team'."
  },
  {
    "name": "x_hierarchy_validated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "When hierarchy assignment was validated against org_hierarchy."
  },
  {
    "name": "x_pipeline_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pipeline template name. Example: genai_infrastructure_usage."
  },
  {
    "name": "x_credential_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."
  },
  {
    "name": "x_pipeline_run_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The DATA date being processed. KEY for idempotent re-runs."
  },
  {
    "name": "x_run_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique pipeline run UUID for full traceability."
  },
  {
    "name": "x_ingested_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when data was written to this table."
  }
]