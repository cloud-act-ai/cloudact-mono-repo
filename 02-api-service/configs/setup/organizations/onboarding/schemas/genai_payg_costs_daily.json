[
  {
    "name": "cost_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "Date of cost (partition field). Daily cost aggregation."
  },
  {
    "name": "org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization identifier for multi-tenancy."
  },
  {
    "name": "provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "GenAI provider: openai, anthropic, gemini, azure_openai, aws_bedrock, gcp_vertex."
  },
  {
    "name": "model",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Model identifier. Example: gpt-4o, claude-3-5-sonnet."
  },
  {
    "name": "model_family",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Model family for grouping."
  },
  {
    "name": "region",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Deployment region."
  },
  {
    "name": "input_tokens",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Total input tokens for the day."
  },
  {
    "name": "output_tokens",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Total output tokens for the day."
  },
  {
    "name": "cached_input_tokens",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Cached input tokens (if applicable)."
  },
  {
    "name": "total_tokens",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Total tokens consumed."
  },
  {
    "name": "input_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Cost for input tokens in USD."
  },
  {
    "name": "output_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Cost for output tokens in USD."
  },
  {
    "name": "cached_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Cost for cached tokens in USD."
  },
  {
    "name": "total_cost_usd",
    "type": "FLOAT64",
    "mode": "REQUIRED",
    "description": "Total daily cost in USD."
  },
  {
    "name": "discount_applied_pct",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Volume/commitment discount percentage applied."
  },
  {
    "name": "effective_rate_input",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Effective rate per 1M input tokens after discounts."
  },
  {
    "name": "effective_rate_output",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Effective rate per 1M output tokens after discounts."
  },
  {
    "name": "request_count",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Number of API requests."
  },
  {
    "name": "hierarchy_entity_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity ID from org_hierarchy. Example: 'TEAM-001'."
  },
  {
    "name": "hierarchy_entity_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity display name. Example: 'Platform Team'."
  },
  {
    "name": "hierarchy_level_code",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Entity level code. Example: 'team', 'project', 'department'."
  },
  {
    "name": "hierarchy_path",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Materialized path from root to leaf. Example: '/DEPT-001/PROJ-001/TEAM-001'."
  },
  {
    "name": "hierarchy_path_names",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Human-readable path. Example: 'Engineering > Platform > Backend Team'."
  },
  {
    "name": "x_hierarchy_validated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "Timestamp when hierarchy entity was last validated against org_hierarchy table. FOCUS 1.3 extension field."
  },
  {
    "name": "calculated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "Timestamp when cost was calculated."
  },
  {
    "name": "x_pipeline_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pipeline template name. Example: genai_payg_openai."
  },
  {
    "name": "x_credential_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."
  },
  {
    "name": "x_pipeline_run_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The DATA date being processed. KEY for idempotent re-runs."
  },
  {
    "name": "x_run_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique pipeline run UUID for full traceability."
  },
  {
    "name": "x_ingested_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when data was written to this table."
  }
]