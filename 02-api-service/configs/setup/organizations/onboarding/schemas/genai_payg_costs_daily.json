[
  {"name": "cost_date", "type": "DATE", "mode": "REQUIRED", "description": "Date of cost (partition field). Daily cost aggregation."},
  {"name": "org_slug", "type": "STRING", "mode": "REQUIRED", "description": "Organization identifier for multi-tenancy."},
  {"name": "provider", "type": "STRING", "mode": "REQUIRED", "description": "GenAI provider: openai, anthropic, gemini, azure_openai, aws_bedrock, gcp_vertex."},
  {"name": "model", "type": "STRING", "mode": "REQUIRED", "description": "Model identifier. Example: gpt-4o, claude-3-5-sonnet."},
  {"name": "model_family", "type": "STRING", "mode": "NULLABLE", "description": "Model family for grouping."},
  {"name": "region", "type": "STRING", "mode": "NULLABLE", "description": "Deployment region."},
  {"name": "input_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total input tokens for the day."},
  {"name": "output_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total output tokens for the day."},
  {"name": "cached_input_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Cached input tokens (if applicable)."},
  {"name": "total_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total tokens consumed."},
  {"name": "input_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Cost for input tokens in USD."},
  {"name": "output_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Cost for output tokens in USD."},
  {"name": "cached_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Cost for cached tokens in USD."},
  {"name": "total_cost_usd", "type": "FLOAT64", "mode": "REQUIRED", "description": "Total daily cost in USD."},
  {"name": "discount_applied_pct", "type": "FLOAT64", "mode": "NULLABLE", "description": "Volume/commitment discount percentage applied."},
  {"name": "effective_rate_input", "type": "FLOAT64", "mode": "NULLABLE", "description": "Effective rate per 1M input tokens after discounts."},
  {"name": "effective_rate_output", "type": "FLOAT64", "mode": "NULLABLE", "description": "Effective rate per 1M output tokens after discounts."},
  {"name": "request_count", "type": "INT64", "mode": "NULLABLE", "description": "Number of API requests."},
  {"name": "hierarchy_dept_id", "type": "STRING", "mode": "NULLABLE", "description": "Department ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='department'."},
  {"name": "hierarchy_dept_name", "type": "STRING", "mode": "NULLABLE", "description": "Department name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_project_id", "type": "STRING", "mode": "NULLABLE", "description": "Project ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='project'."},
  {"name": "hierarchy_project_name", "type": "STRING", "mode": "NULLABLE", "description": "Project name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_team_id", "type": "STRING", "mode": "NULLABLE", "description": "Team ID for cost allocation. Issue #50: MUST be validated against org_hierarchy table where entity_type='team'. Pipeline should reject invalid team IDs."},
  {"name": "hierarchy_team_name", "type": "STRING", "mode": "NULLABLE", "description": "Team name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_validated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Issue #50: Timestamp when hierarchy IDs were last validated against org_hierarchy table."},
  {"name": "credential_id", "type": "STRING", "mode": "NULLABLE", "description": "Integration credential ID that generated this usage. Issue #49: Required for audit trail - links to org_integration_credentials table."},
  {"name": "calculated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Timestamp when cost was calculated."},
  {"name": "run_id", "type": "STRING", "mode": "NULLABLE", "description": "Pipeline run ID."}
]
