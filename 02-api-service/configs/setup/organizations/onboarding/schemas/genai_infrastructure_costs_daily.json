[
  {"name": "cost_date", "type": "DATE", "mode": "REQUIRED", "description": "Date of cost (partition field)."},
  {"name": "org_slug", "type": "STRING", "mode": "REQUIRED", "description": "Organization identifier for multi-tenancy."},
  {"name": "credential_id", "type": "STRING", "mode": "NULLABLE", "description": "Integration credential ID that sourced this cost data. Issue #49: Required for audit trail - links to org_integration_credentials table."},
  {"name": "provider", "type": "STRING", "mode": "REQUIRED", "description": "Infrastructure provider: gcp_gpu, aws_gpu, azure_gpu, etc."},
  {"name": "resource_type", "type": "STRING", "mode": "REQUIRED", "description": "Resource type: gpu, tpu, inferentia, trainium."},
  {"name": "instance_type", "type": "STRING", "mode": "REQUIRED", "description": "Instance type used. Issue #47: Part of composite key for pricing lookup (instance_type + gpu_type + region)."},
  {"name": "gpu_type", "type": "STRING", "mode": "NULLABLE", "description": "GPU/accelerator type. Issue #47: Part of composite key for pricing lookup (instance_type + gpu_type + region)."},
  {"name": "region", "type": "STRING", "mode": "REQUIRED", "description": "Cloud region. Issue #47: Part of composite key for pricing lookup (instance_type + gpu_type + region)."},
  {"name": "instance_count", "type": "INT64", "mode": "NULLABLE", "description": "Number of instances."},
  {"name": "hours_used", "type": "FLOAT64", "mode": "NULLABLE", "description": "Total instance-hours."},
  {"name": "gpu_hours", "type": "FLOAT64", "mode": "NULLABLE", "description": "Total GPU-hours."},
  {"name": "pricing_type", "type": "STRING", "mode": "NULLABLE", "description": "Pricing type: on_demand, spot, reserved."},
  {"name": "base_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Cost before discounts in USD."},
  {"name": "discount_applied_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Discount amount in USD."},
  {"name": "total_cost_usd", "type": "FLOAT64", "mode": "REQUIRED", "description": "Total daily cost in USD."},
  {"name": "effective_hourly_rate", "type": "FLOAT64", "mode": "NULLABLE", "description": "Effective hourly rate after discounts."},
  {"name": "hierarchy_dept_id", "type": "STRING", "mode": "NULLABLE", "description": "Department ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='department'."},
  {"name": "hierarchy_dept_name", "type": "STRING", "mode": "NULLABLE", "description": "Department name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_project_id", "type": "STRING", "mode": "NULLABLE", "description": "Project ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='project'."},
  {"name": "hierarchy_project_name", "type": "STRING", "mode": "NULLABLE", "description": "Project name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_team_id", "type": "STRING", "mode": "NULLABLE", "description": "Team ID for cost allocation. Issue #50: MUST be validated against org_hierarchy table where entity_type='team'. Pipeline should reject invalid team IDs."},
  {"name": "hierarchy_team_name", "type": "STRING", "mode": "NULLABLE", "description": "Team name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_validated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Issue #50: Timestamp when hierarchy IDs were last validated against org_hierarchy table."},
  {"name": "calculated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Timestamp when cost was calculated."},
  {"name": "run_id", "type": "STRING", "mode": "NULLABLE", "description": "Pipeline run ID."}
]
