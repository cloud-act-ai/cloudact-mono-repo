[
  {"name": "cost_date", "type": "DATE", "mode": "REQUIRED", "description": "Date of cost (partition field)."},
  {"name": "org_slug", "type": "STRING", "mode": "REQUIRED", "description": "Organization identifier for multi-tenancy."},
  {"name": "provider", "type": "STRING", "mode": "REQUIRED", "description": "Commitment provider: azure_openai_ptu, aws_bedrock_pt, gcp_vertex_pt."},
  {"name": "commitment_type", "type": "STRING", "mode": "REQUIRED", "description": "Type: ptu, provisioned_throughput, gsu."},
  {"name": "commitment_id", "type": "STRING", "mode": "NULLABLE", "description": "Provider-assigned commitment ID."},
  {"name": "model", "type": "STRING", "mode": "REQUIRED", "description": "Model covered by commitment."},
  {"name": "region", "type": "STRING", "mode": "REQUIRED", "description": "Deployment region."},
  {"name": "provisioned_units", "type": "INT64", "mode": "NULLABLE", "description": "Units provisioned. Issue #46: Standardized naming (was provisioned_ptu)."},
  {"name": "used_units", "type": "INT64", "mode": "NULLABLE", "description": "Units consumed. Issue #46: Standardized naming (was used_ptu)."},
  {"name": "utilization_pct", "type": "FLOAT64", "mode": "NULLABLE", "description": "Utilization percentage."},
  {"name": "commitment_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Fixed commitment cost in USD."},
  {"name": "overage_cost_usd", "type": "FLOAT64", "mode": "NULLABLE", "description": "Cost for usage exceeding commitment."},
  {"name": "total_cost_usd", "type": "FLOAT64", "mode": "REQUIRED", "description": "Total daily cost in USD."},
  {"name": "effective_rate_per_unit", "type": "FLOAT64", "mode": "NULLABLE", "description": "Effective rate per unit after utilization."},
  {"name": "tokens_processed", "type": "INT64", "mode": "NULLABLE", "description": "Tokens processed through commitment."},
  {"name": "hours_active", "type": "FLOAT64", "mode": "NULLABLE", "description": "Hours commitment was active."},
  {"name": "hierarchy_dept_id", "type": "STRING", "mode": "NULLABLE", "description": "Department ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='department'."},
  {"name": "hierarchy_dept_name", "type": "STRING", "mode": "NULLABLE", "description": "Department name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_project_id", "type": "STRING", "mode": "NULLABLE", "description": "Project ID for cost allocation. Issue #50: Should be validated against org_hierarchy table where entity_type='project'."},
  {"name": "hierarchy_project_name", "type": "STRING", "mode": "NULLABLE", "description": "Project name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_team_id", "type": "STRING", "mode": "NULLABLE", "description": "Team ID for cost allocation. Issue #50: MUST be validated against org_hierarchy table where entity_type='team'. Pipeline should reject invalid team IDs."},
  {"name": "hierarchy_team_name", "type": "STRING", "mode": "NULLABLE", "description": "Team name (denormalized from org_hierarchy)."},
  {"name": "hierarchy_validated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Issue #50: Timestamp when hierarchy IDs were last validated against org_hierarchy table."},
  {"name": "calculated_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Timestamp when cost was calculated."},
  {"name": "x_pipeline_id", "type": "STRING", "mode": "REQUIRED", "description": "Pipeline template name. Example: genai_commitment_cost."},
  {"name": "x_credential_id", "type": "STRING", "mode": "REQUIRED", "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."},
  {"name": "x_pipeline_run_date", "type": "DATE", "mode": "REQUIRED", "description": "The DATA date being processed. KEY for idempotent re-runs."},
  {"name": "x_run_id", "type": "STRING", "mode": "REQUIRED", "description": "Unique pipeline run UUID for full traceability."},
  {"name": "x_ingested_at", "type": "TIMESTAMP", "mode": "REQUIRED", "description": "Timestamp when data was written to this table."}
]
