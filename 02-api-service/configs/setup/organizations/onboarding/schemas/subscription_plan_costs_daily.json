[
  {
    "name": "org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization identifier."
  },
  {
    "name": "provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "SaaS provider name (e.g., chatgpt_plus, slack, canva)."
  },
  {
    "name": "subscription_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Foreign key to subscription_plans."
  },
  {
    "name": "plan_name",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Plan tier (FREE, PRO, TEAM, ENTERPRISE)."
  },
  {
    "name": "display_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Human-readable name."
  },
  {
    "name": "cost_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The day this cost applies to (partition key)."
  },
  {
    "name": "billing_cycle",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Billing frequency: monthly, quarterly, semi-annual, annual, weekly."
  },
  {
    "name": "currency",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Currency code (USD, EUR, GBP)."
  },
  {
    "name": "seats",
    "type": "INTEGER",
    "mode": "REQUIRED",
    "description": "Number of seats/licenses."
  },
  {
    "name": "pricing_model",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "PER_SEAT or FLAT_FEE."
  },
  {
    "name": "cycle_cost",
    "type": "NUMERIC",
    "mode": "REQUIRED",
    "description": "Full billing cycle cost after discounts."
  },
  {
    "name": "daily_cost",
    "type": "NUMERIC",
    "mode": "REQUIRED",
    "description": "Amortized daily cost (cycle_cost / days_in_period)."
  },
  {
    "name": "monthly_run_rate",
    "type": "NUMERIC",
    "mode": "NULLABLE",
    "description": "Projected monthly cost (daily_cost × days_in_month)."
  },
  {
    "name": "annual_run_rate",
    "type": "NUMERIC",
    "mode": "NULLABLE",
    "description": "Projected annual cost (daily_cost × days_in_year)."
  },
  {
    "name": "invoice_id_last",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Last invoice reference."
  },
  {
    "name": "source",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Source: subscription_amortization."
  },
  {
    "name": "hierarchy_level_1_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 1 (root) hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_1_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 1 (root) hierarchy entity name."
  },
  {
    "name": "hierarchy_level_2_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 2 hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_2_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 2 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_3_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 3 hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_3_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 3 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_4_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 4 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_4_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 4 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_5_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 5 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_5_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 5 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_6_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 6 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_6_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 6 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_7_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 7 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_7_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 7 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_8_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 8 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_8_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 8 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_9_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 9 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_9_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 9 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_10_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 10 hierarchy entity ID (deepest level)."
  },
  {
    "name": "hierarchy_level_10_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 10 hierarchy entity name (deepest level)."
  },
  {
    "name": "hierarchy_entity_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity ID from org_hierarchy. Example: 'TEAM-001'."
  },
  {
    "name": "hierarchy_entity_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity display name. Example: 'Platform Team'."
  },
  {
    "name": "hierarchy_level_code",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Entity level code. Example: 'team', 'project', 'department'."
  },
  {
    "name": "hierarchy_path",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Materialized path from root to leaf. Example: '/DEPT-001/PROJ-001/TEAM-001'."
  },
  {
    "name": "hierarchy_path_names",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Human-readable path. Example: 'Engineering > Platform > Backend Team'."
  },
  {
    "name": "x_hierarchy_validated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "Timestamp when hierarchy entity was last validated against org_hierarchy table. FOCUS 1.3 extension field."
  },
  {
    "name": "created_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when this record was first created."
  },
  {
    "name": "updated_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when this row was written."
  },
  {
    "name": "x_pipeline_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pipeline template name. Example: subscription_cost."
  },
  {
    "name": "x_credential_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."
  },
  {
    "name": "x_pipeline_run_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The DATA date being processed. KEY for idempotent re-runs."
  },
  {
    "name": "x_run_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique pipeline run UUID for full traceability."
  },
  {
    "name": "x_ingested_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when data was written to this table."
  }
]
