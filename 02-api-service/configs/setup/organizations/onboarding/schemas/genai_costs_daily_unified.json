[
  {
    "name": "cost_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "Date of cost (business date)."
  },
  {
    "name": "cost_type",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Cost flow type: payg, commitment, infrastructure."
  },
  {
    "name": "provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Provider identifier (all provider types)."
  },
  {
    "name": "model",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Model identifier (for PAYG/commitment)."
  },
  {
    "name": "instance_type",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Instance type (for infrastructure)."
  },
  {
    "name": "gpu_type",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "GPU/accelerator type (for infrastructure)."
  },
  {
    "name": "region",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Deployment region."
  },
  {
    "name": "input_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Input token cost (PAYG)."
  },
  {
    "name": "output_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Output token cost (PAYG)."
  },
  {
    "name": "cached_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Cost for cached input tokens (prompt caching discount)."
  },
  {
    "name": "commitment_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Fixed commitment cost."
  },
  {
    "name": "overage_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Overage/burst cost."
  },
  {
    "name": "infrastructure_cost_usd",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "GPU/TPU infrastructure cost."
  },
  {
    "name": "total_cost_usd",
    "type": "FLOAT64",
    "mode": "REQUIRED",
    "description": "Total daily cost in USD."
  },
  {
    "name": "discount_applied_pct",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Discount percentage applied."
  },
  {
    "name": "usage_quantity",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Generic usage quantity."
  },
  {
    "name": "usage_unit",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Usage unit: tokens, gpu_hours, ptu_hours."
  },
  {
    "name": "effective_rate_input",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Actual cost per input token (after discounts)."
  },
  {
    "name": "effective_rate_output",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Actual cost per output token (after discounts)."
  },
  {
    "name": "effective_rate_cached",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Actual cost per cached input token."
  },
  {
    "name": "source_table",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Source table name for lineage."
  },
  {
    "name": "consolidated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "Timestamp when consolidated."
  },
  {
    "name": "x_hierarchy_entity_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity ID from org_hierarchy. Example: 'TEAM-001'."
  },
  {
    "name": "x_hierarchy_entity_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Leaf entity display name. Example: 'Platform Team'."
  },
  {
    "name": "x_hierarchy_level_code",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Hierarchy level code (DEPT, PROJ, TEAM)"
  },
  {
    "name": "x_hierarchy_path",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Materialized path from root to leaf. Example: '/DEPT-001/PROJ-001/TEAM-001'."
  },
  {
    "name": "x_hierarchy_path_names",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "N-level hierarchy: Human-readable path. Example: 'Engineering > Platform > Backend Team'."
  },
  {
    "name": "x_hierarchy_validated_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "When hierarchy was validated."
  },
  {
    "name": "x_ingestion_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique row identifier (UUID) for traceability."
  },
  {
    "name": "x_ingestion_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "Date when data was ingested - PARTITION KEY."
  },
  {
    "name": "x_org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization identifier for multi-tenancy."
  },
  {
    "name": "x_genai_provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "GenAI provider identifier."
  },
  {
    "name": "x_pipeline_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pipeline template name. Example: genai_unified_consolidate."
  },
  {
    "name": "x_credential_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."
  },
  {
    "name": "x_pipeline_run_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The DATA date being processed. KEY for idempotent re-runs."
  },
  {
    "name": "x_run_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique pipeline run UUID for full traceability."
  },
  {
    "name": "x_ingested_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when data was written to this table."
  }
]