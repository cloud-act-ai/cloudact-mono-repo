[
  {"name": "usage_date", "type": "DATE", "mode": "REQUIRED", "description": "Date of usage (partition field). Daily aggregation."},
  {"name": "org_slug", "type": "STRING", "mode": "REQUIRED", "description": "Organization identifier for multi-tenancy."},
  {"name": "provider", "type": "STRING", "mode": "REQUIRED", "description": "GenAI provider: openai, anthropic, gemini, azure_openai, aws_bedrock, gcp_vertex."},
  {"name": "model", "type": "STRING", "mode": "REQUIRED", "description": "Model identifier used. Example: gpt-4o, claude-3-5-sonnet."},
  {"name": "model_family", "type": "STRING", "mode": "NULLABLE", "description": "Model family for grouping. Example: gpt-4o, claude-3.5."},
  {"name": "region", "type": "STRING", "mode": "NULLABLE", "description": "Deployment region where usage occurred."},
  {"name": "input_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total input/prompt tokens consumed. Issue #4: VALIDATION - Must be >= 0. Pipeline processors will reject negative values and log data quality warnings."},
  {"name": "output_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total output/completion tokens generated. Issue #4: VALIDATION - Must be >= 0. Pipeline processors will reject negative values and log data quality warnings."},
  {"name": "cached_input_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Tokens served from cache (prompt caching). Issue #4: VALIDATION - Must be >= 0."},
  {"name": "total_tokens", "type": "INT64", "mode": "NULLABLE", "description": "Total tokens (input + output). Issue #4: VALIDATION - Must be >= 0."},
  {"name": "request_count", "type": "INT64", "mode": "NULLABLE", "description": "Number of API requests made."},
  {"name": "is_batch", "type": "BOOLEAN", "mode": "NULLABLE", "description": "Whether this usage was from batch API. Issue #34: Batch usage gets discounted rates."},
  {"name": "successful_requests", "type": "INT64", "mode": "NULLABLE", "description": "Number of successful requests (2xx)."},
  {"name": "failed_requests", "type": "INT64", "mode": "NULLABLE", "description": "Number of failed requests (4xx/5xx)."},
  {"name": "avg_latency_ms", "type": "FLOAT64", "mode": "NULLABLE", "description": "Average response latency in milliseconds."},
  {"name": "credential_id", "type": "STRING", "mode": "NULLABLE", "description": "Reference to API credential used (from org_integration_credentials)."},
  {"name": "hierarchy_dept_id", "type": "STRING", "mode": "NULLABLE", "description": "Department ID for cost allocation."},
  {"name": "hierarchy_dept_name", "type": "STRING", "mode": "NULLABLE", "description": "Department name (denormalized)."},
  {"name": "hierarchy_project_id", "type": "STRING", "mode": "NULLABLE", "description": "Project ID for cost allocation."},
  {"name": "hierarchy_project_name", "type": "STRING", "mode": "NULLABLE", "description": "Project name (denormalized)."},
  {"name": "hierarchy_team_id", "type": "STRING", "mode": "NULLABLE", "description": "Team ID for cost allocation."},
  {"name": "hierarchy_team_name", "type": "STRING", "mode": "NULLABLE", "description": "Team name (denormalized)."},
  {"name": "run_id", "type": "STRING", "mode": "NULLABLE", "description": "Pipeline run ID that ingested this data."},
  {"name": "ingested_at", "type": "TIMESTAMP", "mode": "NULLABLE", "description": "Timestamp when data was ingested."}
]
