[
  {
    "name": "usage_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "Date of usage (partition field)."
  },
  {
    "name": "org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization identifier for multi-tenancy."
  },
  {
    "name": "provider",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Commitment provider: azure_openai_ptu, aws_bedrock_pt, gcp_vertex_pt."
  },
  {
    "name": "commitment_type",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Type: ptu, provisioned_throughput, gsu."
  },
  {
    "name": "commitment_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Provider-assigned commitment/reservation ID."
  },
  {
    "name": "model",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Model covered by commitment."
  },
  {
    "name": "region",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Deployment region."
  },
  {
    "name": "provisioned_units",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Number of PTU/units provisioned."
  },
  {
    "name": "used_units",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Actual units consumed."
  },
  {
    "name": "utilization_pct",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Utilization percentage (used/provisioned * 100)."
  },
  {
    "name": "tokens_processed",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Total tokens processed through commitment."
  },
  {
    "name": "request_count",
    "type": "INT64",
    "mode": "NULLABLE",
    "description": "Number of requests served."
  },
  {
    "name": "avg_latency_ms",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Average response latency."
  },
  {
    "name": "hours_active",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Hours commitment was active."
  },
  {
    "name": "hierarchy_level_1_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 1 (root) hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_1_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 1 (root) hierarchy entity name."
  },
  {
    "name": "hierarchy_level_2_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 2 hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_2_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 2 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_3_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 3 hierarchy entity ID. Denormalized for fast aggregation."
  },
  {
    "name": "hierarchy_level_3_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 3 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_4_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 4 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_4_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 4 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_5_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 5 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_5_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 5 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_6_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 6 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_6_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 6 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_7_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 7 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_7_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 7 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_8_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 8 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_8_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 8 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_9_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 9 hierarchy entity ID."
  },
  {
    "name": "hierarchy_level_9_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 9 hierarchy entity name."
  },
  {
    "name": "hierarchy_level_10_id",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 10 hierarchy entity ID (deepest level)."
  },
  {
    "name": "hierarchy_level_10_name",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Level 10 hierarchy entity name (deepest level)."
  },
  {
    "name": "x_pipeline_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pipeline template name. Example: genai_commitment_usage."
  },
  {
    "name": "x_credential_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Credential ID from org_integration_credentials. KEY for multi-account isolation."
  },
  {
    "name": "x_pipeline_run_date",
    "type": "DATE",
    "mode": "REQUIRED",
    "description": "The DATA date being processed. KEY for idempotent re-runs."
  },
  {
    "name": "x_run_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique pipeline run UUID for full traceability."
  },
  {
    "name": "x_ingested_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when data was written to this table."
  }
]
