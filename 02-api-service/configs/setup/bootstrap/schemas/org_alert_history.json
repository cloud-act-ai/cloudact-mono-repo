[
  {
    "name": "alert_history_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique identifier for the alert history entry (UUID)"
  },
  {
    "name": "alert_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Alert configuration ID from YAML (e.g., subscription_cost_threshold_20)"
  },
  {
    "name": "org_slug",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Organization slug that triggered the alert"
  },
  {
    "name": "status",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Alert status: SENT, FAILED, COOLDOWN, NO_MATCH, ERROR"
  },
  {
    "name": "severity",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Alert severity: info, warning, critical"
  },
  {
    "name": "trigger_data",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "JSON snapshot of data that triggered the alert (total_cost, currency, etc.)"
  },
  {
    "name": "condition_results",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "JSON of condition evaluation results (conditions_met, conditions_failed)"
  },
  {
    "name": "recipients",
    "type": "STRING",
    "mode": "REPEATED",
    "description": "Email addresses that received the alert"
  },
  {
    "name": "recipient_count",
    "type": "INTEGER",
    "mode": "REQUIRED",
    "description": "Number of recipients who received the alert"
  },
  {
    "name": "sent_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "When notification was successfully sent"
  },
  {
    "name": "error_message",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Error message if send failed"
  },
  {
    "name": "created_at",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "When this history entry was created"
  }
]
