# =============================================
# CLOUDACT PLATFORM - Root Environment Variables
# =============================================
# Copy this file to .env and fill in your values
# Used by docker-compose.yml for local development
# NEVER commit .env to version control
# =============================================

# =============================================
# GCP CONFIGURATION (Required)
# =============================================
GCP_PROJECT_ID=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# KMS Encryption (Required for credential encryption)
# Full path: projects/{project}/locations/{location}/keyRings/{keyring}/cryptoKeys/{key}
KMS_KEY_NAME=projects/your-project/locations/us-central1/keyRings/cloudact-keyring/cryptoKeys/cloudact-encryption-key

# =============================================
# SECURITY (Required)
# =============================================

# CloudAct Root API Key (minimum 32 characters)
# Used for bootstrap and org management operations
CA_ROOT_API_KEY=your-secure-root-api-key-minimum-32-chars

# API Key Secret (for API key signing)
API_KEY_SECRET_KEY=your-secret-key-for-api-key-signing

# =============================================
# SUPABASE (Required for Frontend)
# =============================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# =============================================
# STRIPE (Required for Billing)
# =============================================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================
# OPTIONAL CONFIGURATION
# =============================================

# BigQuery
BIGQUERY_LOCATION=US

# Logging
LOG_LEVEL=INFO
DEBUG=false

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Pipeline Execution
PIPELINE_MAX_PARALLEL_STEPS=10
PIPELINE_GLOBAL_CONCURRENT_LIMIT=100

# Fallback Quotas (when subscription not found)
FALLBACK_DAILY_LIMIT=6
FALLBACK_MONTHLY_LIMIT=180
FALLBACK_CONCURRENT_LIMIT=6

# Provider API URLs (optional - defaults shown)
OPENAI_API_BASE_URL=https://api.openai.com/v1
ANTHROPIC_API_BASE_URL=https://api.anthropic.com/v1

# Notifications (optional)
NOTIFICATIONS_ENABLED=false
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USERNAME=your-email@gmail.com
# EMAIL_SMTP_PASSWORD=your-app-password
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# =============================================
# SETUP STEPS:
# =============================================
# 1. Create a GCP project and enable BigQuery API
# 2. Create a service account with BigQuery Admin role
# 3. Download the service account JSON key
# 4. Create a KMS keyring and key for encryption
# 5. Grant the service account Cloud KMS CryptoKey Encrypter/Decrypter role
# 6. Set up Supabase project (https://supabase.com)
# 7. Set up Stripe account (https://stripe.com)
# 8. Copy this file to .env and fill in all values
# 9. Run: docker-compose up -d
# =============================================
