{
  "table_name": "saas_subscriptions",
  "description": "Unified LLM provider subscriptions table (OpenAI, Anthropic, Gemini, Custom)",
  "dataset_type": "org",
  "fields": [
    {
      "name": "subscription_id",
      "type": "STRING",
      "mode": "REQUIRED",
      "description": "Unique subscription identifier (UUID)"
    },
    {
      "name": "provider",
      "type": "STRING",
      "mode": "REQUIRED",
      "description": "LLM provider: openai, anthropic, gemini, custom"
    },
    {
      "name": "plan_name",
      "type": "STRING",
      "mode": "REQUIRED",
      "description": "Subscription plan name (user-defined custom plan)"
    },
    {
      "name": "is_custom",
      "type": "BOOLEAN",
      "mode": "REQUIRED",
      "description": "True if user-created custom subscription"
    },
    {
      "name": "quantity",
      "type": "INTEGER",
      "mode": "REQUIRED",
      "description": "Number of seats/units"
    },
    {
      "name": "unit_price_usd",
      "type": "FLOAT64",
      "mode": "REQUIRED",
      "description": "Monthly subscription cost in USD"
    },
    {
      "name": "effective_date",
      "type": "DATE",
      "mode": "REQUIRED",
      "description": "Date when subscription becomes active"
    },
    {
      "name": "end_date",
      "type": "DATE",
      "mode": "NULLABLE",
      "description": "Subscription end date (null = active/ongoing)"
    },
    {
      "name": "is_enabled",
      "type": "BOOLEAN",
      "mode": "REQUIRED",
      "description": "User can enable/disable subscription tracking"
    },
    {
      "name": "auth_type",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "Authentication type: api_key, service_account, oauth"
    },
    {
      "name": "notes",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "User notes or comments"
    },
    {
      "name": "x_gemini_project_id",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "Gemini-specific: GCP project ID"
    },
    {
      "name": "x_gemini_region",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "Gemini-specific: GCP region"
    },
    {
      "name": "x_anthropic_workspace_id",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "Anthropic-specific: Workspace ID"
    },
    {
      "name": "x_openai_org_id",
      "type": "STRING",
      "mode": "NULLABLE",
      "description": "OpenAI-specific: Organization ID"
    },
    {
      "name": "tier_type",
      "type": "STRING",
      "mode": "REQUIRED",
      "description": "Tier classification: free, trial, paid, enterprise, committed_use"
    },
    {
      "name": "trial_end_date",
      "type": "DATE",
      "mode": "NULLABLE",
      "description": "Trial expiration date (null = not a trial)"
    },
    {
      "name": "trial_credit_usd",
      "type": "FLOAT64",
      "mode": "NULLABLE",
      "description": "Trial credit amount in USD (e.g., GCP $300 trial)"
    },
    {
      "name": "monthly_token_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Monthly token usage cap (null = unlimited)"
    },
    {
      "name": "daily_token_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Daily token usage cap (null = unlimited)"
    },
    {
      "name": "rpm_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Requests per minute rate limit"
    },
    {
      "name": "tpm_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Tokens per minute rate limit"
    },
    {
      "name": "rpd_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Requests per day rate limit"
    },
    {
      "name": "tpd_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Tokens per day rate limit"
    },
    {
      "name": "concurrent_limit",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Maximum concurrent requests"
    },
    {
      "name": "committed_spend_usd",
      "type": "FLOAT64",
      "mode": "NULLABLE",
      "description": "Committed monthly spend for CUD pricing"
    },
    {
      "name": "commitment_term_months",
      "type": "INTEGER",
      "mode": "NULLABLE",
      "description": "Commitment duration in months (12, 24, 36)"
    },
    {
      "name": "discount_percentage",
      "type": "FLOAT64",
      "mode": "NULLABLE",
      "description": "Discount percentage for this tier (0-100)"
    },
    {
      "name": "billing_period",
      "type": "STRING",
      "mode": "REQUIRED",
      "description": "Billing period: weekly, monthly, quarterly, yearly, pay_as_you_go"
    },
    {
      "name": "yearly_price_usd",
      "type": "FLOAT64",
      "mode": "NULLABLE",
      "description": "Annual price in USD (typically discounted vs monthly)"
    },
    {
      "name": "yearly_discount_percentage",
      "type": "FLOAT64",
      "mode": "NULLABLE",
      "description": "Percentage discount for annual billing (e.g., 20 for 20% off)"
    },
    {
      "name": "created_at",
      "type": "TIMESTAMP",
      "mode": "REQUIRED",
      "description": "Record creation timestamp"
    },
    {
      "name": "updated_at",
      "type": "TIMESTAMP",
      "mode": "REQUIRED",
      "description": "Last update timestamp"
    }
  ],
  "clustering_fields": ["provider", "plan_name"],
  "time_partitioning": null
}
