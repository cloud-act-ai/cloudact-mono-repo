{
  "project_id": "gac-prod-471220",
  "central_dataset": "tenants",
  "test_settings": {
    "temp_log_dir": "tests/logs/schema_validation",
    "log_to_file": true,
    "verify_data_types": true,
    "verify_modes": true,
    "verify_descriptions": true
  },
  "central_tables": {
    "tenant_profiles": {
      "description": "Tenant metadata and profiles",
      "required_fields": [
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "company_name",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "admin_email",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_dataset_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "status",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "subscription_plan",
          "type": "STRING",
          "mode": "NULLABLE"
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        }
      ]
    },
    "tenant_api_keys": {
      "description": "API keys for tenant authentication",
      "required_fields": [
        {
          "name": "api_key_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "api_key_hash",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "encrypted_api_key",
          "type": "BYTES",
          "mode": "NULLABLE"
        },
        {
          "name": "scopes",
          "type": "STRING",
          "mode": "REPEATED"
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "mode": "REQUIRED"
        },
        {
          "name": "expires_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "last_used_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        }
      ]
    },
    "tenant_subscriptions": {
      "description": "Tenant subscription plans and limits",
      "required_fields": [
        {
          "name": "subscription_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "plan_name",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "status",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "daily_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "monthly_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "concurrent_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "max_pipelines_per_day",
          "type": "INTEGER",
          "mode": "NULLABLE"
        },
        {
          "name": "trial_end_date",
          "type": "DATE",
          "mode": "NULLABLE"
        },
        {
          "name": "subscription_end_date",
          "type": "DATE",
          "mode": "NULLABLE"
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        }
      ]
    },
    "tenant_usage_quotas": {
      "description": "Real-time tenant usage tracking",
      "required_fields": [
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "quota_date",
          "type": "DATE",
          "mode": "REQUIRED"
        },
        {
          "name": "daily_runs_used",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "monthly_runs_used",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "current_concurrent_runs",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "daily_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "monthly_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "concurrent_limit",
          "type": "INTEGER",
          "mode": "REQUIRED"
        },
        {
          "name": "last_reset_date",
          "type": "DATE",
          "mode": "NULLABLE"
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        }
      ]
    },
    "tenant_cloud_credentials": {
      "description": "Encrypted cloud provider credentials",
      "required_fields": [
        {
          "name": "credential_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "provider",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "encrypted_credential",
          "type": "BYTES",
          "mode": "REQUIRED"
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "mode": "REQUIRED"
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        }
      ]
    },
    "tenant_pipeline_configs": {
      "description": "Pipeline YAML configurations per tenant",
      "required_fields": [
        {
          "name": "config_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "pipeline_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "yaml_config",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "is_active",
          "type": "BOOLEAN",
          "mode": "REQUIRED"
        },
        {
          "name": "created_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "updated_at",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        }
      ]
    },
    "x_meta_pipeline_runs": {
      "description": "Centralized pipeline execution logs",
      "required_fields": [
        {
          "name": "pipeline_logging_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "tenant_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "pipeline_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "status",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "trigger_type",
          "type": "STRING",
          "mode": "NULLABLE"
        },
        {
          "name": "trigger_by",
          "type": "STRING",
          "mode": "NULLABLE"
        },
        {
          "name": "user_id",
          "type": "STRING",
          "mode": "NULLABLE"
        },
        {
          "name": "start_time",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "end_time",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        },
        {
          "name": "duration_ms",
          "type": "INTEGER",
          "mode": "NULLABLE"
        },
        {
          "name": "run_date",
          "type": "DATE",
          "mode": "NULLABLE"
        },
        {
          "name": "parameters",
          "type": "JSON",
          "mode": "NULLABLE"
        },
        {
          "name": "run_metadata",
          "type": "JSON",
          "mode": "NULLABLE"
        },
        {
          "name": "error_message",
          "type": "STRING",
          "mode": "NULLABLE"
        }
      ]
    }
  },
  "per_tenant_tables": {
    "x_meta_step_logs": {
      "description": "Step-level execution logs per tenant",
      "required_fields": [
        {
          "name": "step_logging_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "pipeline_logging_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "step_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "status",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "start_time",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        },
        {
          "name": "end_time",
          "type": "TIMESTAMP",
          "mode": "NULLABLE"
        },
        {
          "name": "duration_ms",
          "type": "INTEGER",
          "mode": "NULLABLE"
        },
        {
          "name": "error_message",
          "type": "STRING",
          "mode": "NULLABLE"
        }
      ]
    },
    "x_meta_dq_results": {
      "description": "Data quality check results per tenant",
      "required_fields": [
        {
          "name": "dq_result_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "pipeline_logging_id",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "check_name",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "check_status",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "severity",
          "type": "STRING",
          "mode": "REQUIRED"
        },
        {
          "name": "checked_at",
          "type": "TIMESTAMP",
          "mode": "REQUIRED"
        }
      ]
    }
  },
  "test_tenants": [
    "guru_test_001",
    "guru_test_002"
  ]
}
