{
  "description": "Quota enforcement test configuration for testing pipeline limits",
  "version": "1.0.0",
  "api_base": "http://localhost:8080",
  "project_id": "gac-prod-471220",
  "test_tenants": [
    {
      "tenant_id": "quota_test_starter_001",
      "company_name": "Quota Test Starter Corp",
      "admin_email": "admin@quotatest-starter.com",
      "subscription_plan": "STARTER"
    },
    {
      "tenant_id": "quota_test_professional_001",
      "company_name": "Quota Test Professional Inc",
      "admin_email": "admin@quotatest-pro.com",
      "subscription_plan": "PROFESSIONAL"
    },
    {
      "tenant_id": "quota_test_scale_001",
      "company_name": "Quota Test Scale Enterprise",
      "admin_email": "admin@quotatest-scale.com",
      "subscription_plan": "SCALE"
    }
  ],
  "subscription_plans": {
    "STARTER": {
      "daily_limit": 6,
      "monthly_limit": 180,
      "concurrent_limit": 1
    },
    "PROFESSIONAL": {
      "daily_limit": 25,
      "monthly_limit": 750,
      "concurrent_limit": 3
    },
    "SCALE": {
      "daily_limit": 100,
      "monthly_limit": 3000,
      "concurrent_limit": 10
    }
  },
  "test_scenarios": {
    "daily_limit_test": {
      "description": "Test daily quota enforcement",
      "target_plan": "STARTER",
      "test_runs": 8,
      "expected_successful": 6,
      "expected_rejected": 2
    },
    "concurrent_limit_test": {
      "description": "Test concurrent pipeline execution limit",
      "target_plan": "PROFESSIONAL",
      "concurrent_executions": 5,
      "expected_successful": 3,
      "expected_rejected": 2
    },
    "monthly_limit_test": {
      "description": "Test monthly quota accumulation",
      "target_plan": "STARTER",
      "test_days": 3,
      "runs_per_day": 6,
      "expected_total_monthly": 18
    },
    "quota_recovery_test": {
      "description": "Test quota reset at day boundary",
      "target_plan": "PROFESSIONAL",
      "initial_runs": 25,
      "wait_for_reset": true,
      "post_reset_runs": 5,
      "expected_post_reset_successful": 5
    }
  },
  "pipeline_config": {
    "provider": "gcp",
    "domain": "cost",
    "template": "cost_billing",
    "default_date": "2025-11-17"
  },
  "test_settings": {
    "cleanup_after_test": true,
    "verify_in_bigquery": true,
    "timeout_seconds": 60,
    "temp_log_dir": "/tmp/convergence-tests",
    "poll_interval_seconds": 2,
    "max_poll_attempts": 30,
    "parallel_execution_delay": 0.5
  }
}
