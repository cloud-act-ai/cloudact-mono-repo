pipeline_id: "dryrun"
description: "Dry Run Validation Pipeline - Simple validation query"

steps:
  - step_id: "dryrun_test"
    name: "Dry Run Test"
    description: "Test basic BigQuery connectivity"
    ps_type: "gcp.bq_etl"
    timeout_minutes: 5

    source:
      query: |
        SELECT
          'Dry run successful' as status,
          CURRENT_TIMESTAMP() as validated_at

    destination:
      bq_project_id: "{project_id}"
      dataset_type: "genai_demo_test_db"
      table: "dryrun_validation_log"
      write_mode: "append"
      create_disposition: "CREATE_IF_NEEDED"

    retry_policy:
      max_retries: 1
      retry_delay_seconds: 5
