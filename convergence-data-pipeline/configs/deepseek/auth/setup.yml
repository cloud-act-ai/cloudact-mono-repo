# DeepSeek Integration Setup Pipeline
# Validates and stores DeepSeek API key with KMS encryption

pipeline_id: "{org_slug}-deepseek-auth-setup"
name: "DeepSeek Integration Setup"
description: "Validates and stores DeepSeek API key encrypted via KMS"
version: "1.0.0"

# Variables injected at runtime
variables:
  org_slug: "{org_slug}"
  provider: "DEEPSEEK"

steps:
  - step_id: "store_deepseek_credential"
    ps_type: "integrations.kms_store"
    description: "Validate and store DeepSeek API key"
    config:
      provider: "DEEPSEEK"
      skip_validation: false
      credential_name: "DeepSeek API Key"
    # Context must contain: org_slug, plaintext_credential

# Authentication
requires_auth: true
auth_type: "org_api_key"  # Uses X-API-Key header

# Metadata
tags:
  - integrations
  - deepseek
  - llm
category: "integrations"
