# DeepSeek Usage Sync Pipeline
# Fetches usage data from DeepSeek and stores in BigQuery

pipeline_id: "{org_slug}-deepseek-usage-sync"
name: "DeepSeek Usage Sync"
description: "Fetches DeepSeek API usage data and stores in BigQuery"
version: "1.0.0"

variables:
  org_slug: "{org_slug}"
  provider: "DEEPSEEK"

steps:
  - step_id: "fetch_deepseek_usage"
    ps_type: "deepseek.usage"
    description: "Fetch usage data from DeepSeek API"
    config:
      start_date: "{start_date}"  # Optional: defaults to yesterday
      end_date: "{end_date}"      # Optional: defaults to today
      store_to_bq: true

requires_auth: true
auth_type: "org_api_key"

tags:
  - usage
  - deepseek
  - llm
  - billing
category: "usage"
