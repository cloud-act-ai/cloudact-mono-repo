# ============================================
# Kubernetes Service Account
# ============================================
# Service account for workload identity binding to GCP
# This allows pods to authenticate to GCP services
# ============================================

apiVersion: v1
kind: ServiceAccount
metadata:
  name: convergence-pipeline-sa
  namespace: default # Change to 'convergence-pipeline' if using custom namespace
  annotations:
    # Workload Identity binding annotation
    # Replace PROJECT_ID with your actual GCP project ID
    iam.gke.io/gcp-service-account: convergence-pipeline-sa@PROJECT_ID.iam.gserviceaccount.com
  labels:
    app: convergence-pipeline
    component: service-account
    managed-by: kubectl
