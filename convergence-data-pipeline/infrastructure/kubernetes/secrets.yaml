# ============================================
# Secret - Sensitive Configuration
# ============================================
# TEMPLATE FILE - DO NOT COMMIT WITH REAL SECRETS
# This is a template. Create actual secrets using:
#   kubectl create secret generic convergence-pipeline-secrets \
#     --from-literal=API_SECRET_KEY=your-secret-key \
#     --from-literal=DATABASE_URL=your-db-url
#
# OR use GCP Secret Manager with External Secrets Operator
# ============================================

apiVersion: v1
kind: Secret
metadata:
  name: convergence-pipeline-secrets
  namespace: default # Change to 'convergence-pipeline' if using custom namespace
  labels:
    app: convergence-pipeline
    component: secrets
    managed-by: kubectl
type: Opaque
stringData:
  # API Keys (Base64 encoded in production)
  API_SECRET_KEY: "CHANGE_ME_RANDOM_SECRET_KEY"

  # Database credentials (if using Cloud SQL)
  # DATABASE_URL: "postgresql://user:password@host:5432/dbname"

  # External API credentials
  # AWS_ACCESS_KEY_ID: ""
  # AWS_SECRET_ACCESS_KEY: ""

  # Notification credentials
  # SENDGRID_API_KEY: ""
  # SLACK_WEBHOOK_URL: ""

  # Encryption keys
  # ENCRYPTION_KEY: ""

---
# ============================================
# Alternative: Use GCP Secret Manager
# ============================================
# Instead of storing secrets in Kubernetes, use GCP Secret Manager
# and access them via Workload Identity in your application code.
#
# Example: Create secret in Secret Manager
#   gcloud secrets create api-secret-key --data-file=-
#
# Grant access to service account:
#   gcloud secrets add-iam-policy-binding api-secret-key \
#     --member="serviceAccount:convergence-pipeline-sa@PROJECT_ID.iam.gserviceaccount.com" \
#     --role="roles/secretmanager.secretAccessor"
#
# Access in code:
#   from google.cloud import secretmanager
#   client = secretmanager.SecretManagerServiceClient()
#   name = f"projects/PROJECT_ID/secrets/api-secret-key/versions/latest"
#   response = client.access_secret_version(request={"name": name})
#   secret_value = response.payload.data.decode("UTF-8")
# ============================================
