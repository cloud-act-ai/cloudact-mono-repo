# Environment Configuration Template
# Copy this file to .env and fill in your values

# ============================================
# GCP Configuration
# ============================================
GCP_PROJECT_ID=your-project-id
BIGQUERY_LOCATION=US
GOOGLE_APPLICATION_CREDENTIALS=/app/service-account.json

# ============================================
# Application Settings
# ============================================
APP_NAME=convergence-data-pipeline
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# ============================================
# API Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=4
API_RELOAD=false

# ============================================
# Redis Configuration (for Celery)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0

# ============================================
# Celery Configuration
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=3600  # 1 hour max per task

# ============================================
# Security Configuration
# ============================================
API_KEY_HASH_ALGORITHM=HS256
API_KEY_SECRET_KEY=your-super-secret-key-change-this-in-production
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# ============================================
# Rate Limiting (per tenant)
# ============================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_PIPELINE_CONCURRENCY=5

# ============================================
# Observability
# ============================================
ENABLE_TRACING=true
ENABLE_METRICS=true
OTEL_SERVICE_NAME=convergence-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# ============================================
# BigQuery Configuration
# ============================================
BQ_MAX_RESULTS_PER_PAGE=10000
BQ_QUERY_TIMEOUT_SECONDS=300
BQ_MAX_RETRY_ATTEMPTS=3

# ============================================
# Polars Configuration
# ============================================
POLARS_MAX_THREADS=8
POLARS_STREAMING_CHUNK_SIZE=100000

# ============================================
# Data Quality
# ============================================
DQ_FAIL_ON_ERROR=false
DQ_STORE_RESULTS_IN_BQ=true
