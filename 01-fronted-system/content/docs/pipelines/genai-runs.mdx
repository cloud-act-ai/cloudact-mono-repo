---
title: GenAI Runs
description: Pipelines for AI API usage data
---

GenAI pipelines fetch and process usage data from AI/LLM API providers.

## Supported Providers

| Provider | Data Source |
|----------|-------------|
| **OpenAI** | Usage API |
| **Anthropic** | Usage API |
| **Google AI** | Gemini Usage API |

## How It Works

1. **Authenticate** - Use configured API keys
2. **Fetch usage data** - Query provider usage APIs
3. **Calculate costs** - Apply pricing to token usage
4. **Normalize** - Convert to standard format
5. **Store** - Write to BigQuery

## Pipeline Schedule

GenAI pipelines run:
- **Daily** at 6:00 AM (organization timezone)
- Process previous day's usage

## Triggering Manual Runs

1. Go to **Pipelines** → **GenAI Runs**
2. Select the provider (OpenAI, Anthropic, Google AI)
3. Click **Run Pipeline**
4. Select date to process
5. Click **Confirm**

## Provider-Specific Details

### OpenAI

- Fetches usage by model and date
- Includes tokens, images, audio minutes
- Applies current pricing tiers

### Anthropic

- Fetches Claude usage by model
- Includes input/output tokens
- Applies tiered pricing

### Google AI (Gemini)

- Fetches Gemini Pro/Ultra usage
- Includes character and token counts
- Applies per-model pricing

## Usage Metrics

| Metric | Description |
|--------|-------------|
| **Input Tokens** | Tokens sent to the model |
| **Output Tokens** | Tokens generated by the model |
| **Total Tokens** | Sum of input + output |
| **API Requests** | Number of API calls |
| **Cost** | Calculated from usage × pricing |

## Pricing Updates

GenAI pricing changes frequently. CloudAct:
- Maintains current pricing tables
- Updates automatically when providers change pricing
- Allows custom pricing overrides

<Callout type="tip">
  Check **Integrations** → **GenAI Providers** to view current pricing rates.
</Callout>

## Run History

View recent GenAI pipeline runs:

| Column | Description |
|--------|-------------|
| **Provider** | OpenAI, Anthropic, Google AI |
| **Run ID** | Unique identifier |
| **Date** | Date processed |
| **Status** | Success/Failed |
| **Records** | Usage records processed |

## Cost Data Output

GenAI pipelines write to:

| Table | Content |
|-------|---------|
| `{provider}_usage_raw` | Raw usage data |
| `genai_costs_daily` | Daily cost aggregations |
| `cost_data_standard_1_3` | FOCUS-formatted costs |

## Troubleshooting

### Invalid API Key

- Regenerate key in provider dashboard
- Update in **Integrations** → **GenAI Providers**
- Ensure key has usage read permissions

### No Usage Data

- Verify API key has usage access (not just inference)
- Check if organization has usage during date range
- Some providers have usage data delay (up to 24 hours)

### Cost Discrepancies

- Compare with provider's usage dashboard
- Check pricing table currency matches
- Verify no custom pricing overrides applied
