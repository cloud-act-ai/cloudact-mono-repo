# =============================================
# CLOUDACT.AI - Environment Variables
# =============================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control
# =============================================

# =============================================
# REQUIRED VARIABLES (Application will not work without these)
# =============================================

# Supabase Configuration (Required)
# Get these from: Supabase Dashboard -> Settings -> API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Supabase Service Role (Required for Stripe webhooks and admin operations)
# Get from: Supabase Dashboard -> Settings -> API -> service_role key
# WARNING: Never expose this in client-side code - server-side only
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Stripe Configuration (Required for billing)
# Get from: Stripe Dashboard -> Developers -> API keys
STRIPE_SECRET_KEY=sk_test_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Stripe Webhook Secret (Required for subscription updates)
# Get from: Stripe Dashboard -> Developers -> Webhooks -> Your endpoint -> Signing secret
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (Required for subscriptions)
# Create products in Stripe Dashboard -> Products
# Each plan needs a recurring price
NEXT_PUBLIC_STRIPE_STARTER_PRICE_ID=price_...
NEXT_PUBLIC_STRIPE_PROFESSIONAL_PRICE_ID=price_...
NEXT_PUBLIC_STRIPE_SCALE_PRICE_ID=price_...

# App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=CloudAct.ai
NEXT_PUBLIC_COMPANY_NAME=CloudAct Inc.
NEXT_PUBLIC_COMPANY_ADDRESS=100 S Murphy Ave, STE 200 PMB4013, Sunnyvale, CA 94086

# Backend Service URLs (Required for integrations)
# api-service (port 8000): Onboarding, integrations, LLM data management
NEXT_PUBLIC_API_SERVICE_URL=http://localhost:8000
API_SERVICE_URL=http://localhost:8000

# Pipeline service (port 8001): Pipeline execution (convergence-data-pipeline)
# If not set, falls back to API_SERVICE_URL
NEXT_PUBLIC_PIPELINE_SERVICE_URL=http://localhost:8001
PIPELINE_SERVICE_URL=http://localhost:8001

# CloudAct Root API Key (REQUIRED - Server-side only, DO NOT prefix with NEXT_PUBLIC_)
# Required for backend organization onboarding operations
# This key authenticates admin-level operations between frontend and backend
# Must match the CA_ROOT_API_KEY configured in the backend services
# Minimum 32 characters recommended for production
CA_ROOT_API_KEY=your-ca-root-api-key

# Trial Configuration
# Default trial period in days (used if Stripe price doesn't have trial_period_days set)
NEXT_PUBLIC_DEFAULT_TRIAL_DAYS=14

# =============================================
# SMTP Configuration (REQUIRED for member invite emails)
# =============================================
# Gmail: smtp.gmail.com (port 587)
# Use App Password for Gmail: https://support.google.com/accounts/answer/185833
# Without SMTP configuration, team member invites will fail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=your-email@gmail.com
FROM_NAME=CloudAct.ai Support

# =============================================
# OPTIONAL VARIABLES (Features work with defaults if not set)
# =============================================

# Analytics (Optional)
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=

# Node Environment (Optional - automatically set by Next.js)
NODE_ENV=development

# =============================================
# Public Contact Emails (Display purposes only)
# =============================================
# These are public-facing contact emails shown on your website
NEXT_PUBLIC_CONTACT_EMAIL=hello@cloudact.ai
NEXT_PUBLIC_SUPPORT_EMAIL=support@cloudact.ai
NEXT_PUBLIC_LEGAL_EMAIL=legal@cloudact.ai
NEXT_PUBLIC_PRIVACY_EMAIL=privacy@cloudact.ai
NEXT_PUBLIC_MARKETING_EMAIL=marketing@cloudact.ai

# =============================================
# SETUP STEPS:
# =============================================
# 1. Create a Supabase project at https://supabase.com
# 2. Run scripts/production_setup.sql in SQL Editor
# 3. Copy the API URL and anon key from Settings -> API
# 4. Copy the service_role key (keep secret!)
# 5. Create a Stripe account at https://stripe.com
# 6. Create 3 products with recurring prices (Starter, Professional, Scale)
# 7. Set up a webhook endpoint in Stripe Dashboard:
#    URL: https://your-domain.com/api/webhooks/stripe
#    (Local dev: use Stripe CLI - stripe listen --forward-to localhost:3000/api/webhooks/stripe)
#    Events to listen for:
#    - checkout.session.completed
#    - customer.subscription.created
#    - customer.subscription.updated
#    - customer.subscription.deleted
#    - customer.subscription.trial_will_end
#    - invoice.payment_succeeded
#    - invoice.payment_failed
# 8. Copy all keys to .env.local
# 9. Run: npm run dev
# =============================================
